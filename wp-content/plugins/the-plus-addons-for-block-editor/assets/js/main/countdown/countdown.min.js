"use strict";var allCount=document.querySelectorAll(".tp-countdown");function WidgetCountDownHandler(r){var e=document.querySelectorAll("."+r+".tp-countdown");function t(){e.forEach(e=>{var t,n,a,o,l,s=e.querySelector(".tpgb-countdown-counter");s&&(t=s.dataset.time,n=e.dataset.offset,a=e.dataset.day,o=e.dataset.hour,l=e.dataset.min,s=e.dataset.sec,t&&""!=t&&jQuery(e).downCount({date:t,offset:n,text_day:a,text_hour:o,text_minute:l,text_second:s},function(){countdownExpiry(r)}))})}e&&(t(),e.forEach(e=>{e.addEventListener("change",function(){t()})}))}function styleFlipdown(e){var t=document.querySelector("."+e+" .flipdown").dataset.time,n=document.querySelector("."+e),a=n.dataset.offset,o=n.dataset.day,l=n.dataset.hour,s=n.dataset.min,r=n.dataset.sec,n=n.dataset.filptheme,o=null!=o?o:"",l=null!=l?l:"",s=null!=s?s:"",r=null!=r?r:"";null!=t&&(t-=3600*a,new FlipDown(t,e,{theme:n,headings:[o,l,s,r]}).start().ifEnded(function(){countdownExpiry(e)}))}function styleProgressbar(l){var s,r,d,c,u,i,y,p,m,f,e=document.getElementById("s"+l),t=document.getElementById("m"+l),n=document.getElementById("h"+l),a=document.getElementById("d"+l),o={duration:200,color:"#000000",trailColor:"#ddd",strokeWidth:5,trailWidth:3};null!=e&&(s=new ProgressBar.Circle(e,o),r=new ProgressBar.Circle(t,o),d=new ProgressBar.Circle(n,o),c=new ProgressBar.Circle(a,o),o=document.querySelector("."+l),u=o.querySelector(".tpgb-countdown-counter").dataset.time,i=o.dataset.day,y=o.dataset.hour,p=o.dataset.min,m=o.dataset.sec,i=null!=i?i:"",y=null!=y?y:"",p=null!=p?p:"",m=null!=m?m:"",f=setInterval(function(){var e=new Date,e=new Date(u)-e,t=Math.floor(e/864e5*1);c.animate(t/(t+5),function(){c.setText('<span class="number">'+t+'</span><span class="label">'+i+"</span>")});var n=Math.floor(e%864e5/36e5*1);d.animate(n/24,function(){d.setText('<span class="number">'+n+'</span><span class="label">'+y+"</span>")});var a=Math.floor(e%864e5%36e5/6e4*1);r.animate(a/60,function(){r.setText('<span class="number">'+a+'</span><span class="label">'+p+"</span>")});var o=Math.floor(e%864e5%36e5%6e4/1e3*1);s.animate(o/60,function(){s.setText('<span class="number">'+o+'</span><span class="label">'+m+"</span>")}),t+n+a+o==0&&(countdownExpiry(l),clearInterval(f))},1e3))}function countdownExpiry(e){e=document.querySelector("."+e);e&&((e=JSON.parse(e.dataset.countdata)).expiry&&"showmsg"===e.expiry&&window.location.reload(),e.expiry&&"redirect"===e.expiry&&(e=decodeURIComponent(e.redirect),window.location.href=e))}allCount&&allCount.forEach(e=>{e=JSON.parse(e.dataset.countdata);e&&e.type&&"normal"===e.type&&(e.style&&"style-1"===e.style&&WidgetCountDownHandler(e.blockId),e.style&&"style-2"===e.style&&styleFlipdown(e.blockId),e.style&&"style-3"===e.style&&styleProgressbar(e.blockId))});